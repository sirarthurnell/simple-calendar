<!-- Month -->
<div (click)="onMonthClick()"
     class="column month">

  <!-- Month caption -->
  <div class="row">
    <div class="ratio-height w-100 label month__caption">
      <div class="label__content flex-centered"> {{ monthCaption }} </div>
    </div>
  </div>

  <!-- Days of week captions -->
  <div class="row">
    <div class="ratio-square label month__week-caption"
         *ngFor="let dayOfWeekCaption of daysOfWeekCaptions">
      <div class="label__content flex-centered">
        {{ dayOfWeekCaption }}
      </div>
    </div>
  </div>

  <!-- Days -->
  <div class="row"
       *ngFor="let week of view">

    <!-- Day cell -->
    <div (click)="onDayClick(day)"
         class="ratio-square label"
         *ngFor="let day of week">
      <div [class.label__content]="true">

        <ng-container *ngTemplateOutlet="dayTemplate ? dayTemplate : defaultDayTemplate; context: { $implicit: day }"></ng-container>

      </div>
    </div>

  </div>

</div>

<!-- Templates -->

<!-- Day template -->
<ng-template #defaultDayTemplate let-day>
  <div class="flex-expanded-container">
    <div [class]="getClassForDay(day)"
         [class.flex-expand]="true"
         [class.month__day]="true">{{ day?.day }}</div>
  </div>
</ng-template>